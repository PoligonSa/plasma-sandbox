name: 'Lerna changed'

description: 'Check if has changed'


outputs:
  is-dirty:
    description: "Have changed state since the last tagged release"
    value: ${{ steps.is-dirty.outputs.IS_DIRTY }}

runs:
  using: "composite"
  steps:
    - name: Lerna changed check
      shell: bash
      id: is-dirty
      run: |
        echo "IS_DIRTY=$([[ $(npx lerna changed) ]] && echo "true" || echo "false")" >> $GITHUB_OUTPUT

    - name: Echo
      shell: bash
      run: echo "IS_DIRTY -> ${{ steps.is-dirty.outputs.IS_DIRTY }}"
